{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Saralin\\\\IdeaProjects\\\\fullstack-typescript-mern-todo\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\Saralin\\\\IdeaProjects\\\\fullstack-typescript-mern-todo\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Draggable}from'react-beautiful-dnd';import'./TodoItem.css';import Timer from\"./Timer\";import Slider from\"./Slider\";import{FaRegTrashAlt}from\"react-icons/fa\";var Todo=function Todo(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),realTime=_useState2[0],setTime=_useState2[1];var timeCallback=function timeCallback(timerTime){setTime(timerTime);};var someFn=function someFn(){props.callbackFromParent2(realTime);};useEffect(function(){someFn();},[realTime]);var _useState3=useState('rgb(198,246,241)'),_useState4=_slicedToArray(_useState3,2),color=_useState4[0],setColor=_useState4[1];useEffect(function(){if(props.active){var diff=realTime-props.todo.time;if(realTime<=props.todo.time+1000){setColor('rgb(198,246,241)');}else if(props.bonusTime>0){if(diff>4){setColor('rgb(254,188,254)');}if(diff>1){setColor('rgb(255,202,255)');}}else if(props.bonusTime<1){setColor('rgb(252,190,236)');}}},[realTime,props.active,props.bonusTime,props.todo.time]);var reducedTime=props.todo.time-props.todo.extra;return/*#__PURE__*/React.createElement(Draggable,{draggableId:props.todo._id,index:props.index,isDragDisabled:props.done||props.active},function(provided){var style=_objectSpread({height:props.percent+'%',color:props.done?'grey':''},provided.draggableProps.style);return/*#__PURE__*/React.createElement(\"div\",Object.assign({className:\"Card\",ref:provided.innerRef},provided.draggableProps,provided.dragHandleProps,{style:style}),/*#__PURE__*/React.createElement(Slider,{start:props.active,time:realTime<reducedTime?reducedTime:0}),/*#__PURE__*/React.createElement(\"div\",{className:realTime<props.todo.time?\"Card--text\":props.bonusTime>0?\"Card--reverse\":\"Card--reverse2\",style:{animationPlayState:props.active?'running':'paused',animationDuration:reducedTime+'ms, .5s'}},/*#__PURE__*/React.createElement(\"div\",{className:\"name\",style:{textDecoration:props.done?'line-through':'none',width:60+5*props.longestName+\"px\",backgroundColor:props.done?color:'',background:!props.active&&!props.done?'rgba(240, 240, 240,1)':''}},/*#__PURE__*/React.createElement(\"button\",{className:\"trashWrapper\",disabled:props.active||props.done,style:{cursor:!props.active&&!props.done?'pointer':'default'},onClick:function onClick(){return props.deleteTodoApp(props.todo._id,props.index);}},/*#__PURE__*/React.createElement(FaRegTrashAlt,{className:\"trashcan\"})),props.todo.name),/*#__PURE__*/React.createElement(\"div\",{className:\"description\",style:{textDecoration:props.done?'line-through':'none',backgroundColor:props.done?'rgba(240, 240, 240, 1)':'',background:!props.active&&!props.done?'rgb(230, 230, 230)':''}},props.todo.description),/*#__PURE__*/React.createElement(\"div\",{className:\"time\",style:{backgroundColor:props.done&&!props.active?'rgba(240, 240, 240, 1)':'',background:!props.active&&!props.done?'rgb(230, 230, 230)':''}},/*#__PURE__*/React.createElement(\"div\",{className:\"set-time\"},Math.ceil(props.todo.time/1000)<Math.ceil(props.todo.initTime/1000)?/*#__PURE__*/React.createElement(\"span\",{style:{display:'inline'}},/*#__PURE__*/React.createElement(\"span\",{className:\"crossedOut\",style:{color:'grey',opacity:'70%',display:'inline',marginRight:'4px'}},Math.ceil(props.todo.initTime/1000)),/*#__PURE__*/React.createElement(\"span\",null,\" \",Math.ceil(props.todo.time/1000))):props.active?Math.ceil(reducedTime/1000):Math.ceil(props.todo.initTime/1000),\" min\"),/*#__PURE__*/React.createElement(Timer,{callbackFromParent:timeCallback,startTime:reducedTime,active:props.active,done:props.done}))));});};export default Todo;","map":{"version":3,"sources":["C:/Users/Saralin/IdeaProjects/fullstack-typescript-mern-todo/client/src/components/TodoItem.tsx"],"names":["React","useEffect","useState","Draggable","Timer","Slider","FaRegTrashAlt","Todo","props","realTime","setTime","timeCallback","timerTime","someFn","callbackFromParent2","color","setColor","active","diff","todo","time","bonusTime","reducedTime","extra","_id","index","done","provided","style","height","percent","draggableProps","innerRef","dragHandleProps","animationPlayState","animationDuration","textDecoration","width","longestName","backgroundColor","background","cursor","deleteTodoApp","name","description","Math","ceil","initTime","display","opacity","marginRight"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport {Draggable} from 'react-beautiful-dnd'\r\nimport './TodoItem.css'\r\nimport Timer from \"./Timer\";\r\nimport Slider from \"./Slider\";\r\nimport {FaRegTrashAlt} from \"react-icons/fa\";\r\n\r\nconst Todo = (props: {\r\n    percent: number, todo: ITodo, active: boolean, done: boolean, index: number, bonusTime: number, longestName :number,\r\n    callbackFromParent2(listInfo: number): void, deleteTodoApp: (_id: string, index:number) => void\r\n}) => {\r\n    const [realTime, setTime] = useState<number>(0);\r\n    const timeCallback = (timerTime: number) => {\r\n        setTime(timerTime);\r\n    }\r\n    const someFn = () => {\r\n        props.callbackFromParent2(realTime);\r\n    }\r\n    useEffect(() => {\r\n        someFn()\r\n    }, [realTime])\r\n    const [color, setColor] = useState<string>('rgb(198,246,241)');\r\n\r\n\r\n    useEffect(() => {\r\n        if (props.active) {\r\n            const diff = realTime - props.todo.time\r\n            if (realTime <= props.todo.time + 1000) {\r\n                setColor('rgb(198,246,241)');\r\n            } else if (props.bonusTime > 0) {\r\n                if (diff > 4) {\r\n                    setColor('rgb(254,188,254)');\r\n                }\r\n                if (diff > 1) {\r\n                    setColor('rgb(255,202,255)');\r\n                }\r\n            } else if (props.bonusTime < 1) {\r\n                setColor('rgb(252,190,236)');\r\n            }\r\n        }\r\n    }, [realTime, props.active, props.bonusTime, props.todo.time])\r\n\r\n    let reducedTime = props.todo.time - props.todo.extra\r\n    return (\r\n        <Draggable draggableId={props.todo._id} index={props.index} isDragDisabled={props.done || props.active}>\r\n            {provided => {\r\n                const style = {\r\n                    height: props.percent + '%',\r\n                    color: props.done ? 'grey' : '',\r\n                    ...provided.draggableProps.style,\r\n\r\n                };\r\n                return (\r\n                    <div className=\"Card\" ref={provided.innerRef}\r\n                         {...provided.draggableProps}\r\n                         {...provided.dragHandleProps} style={style}>\r\n                        <Slider start={props.active} time={(realTime < reducedTime) ?\r\n                            reducedTime : 0}/>\r\n                        <div\r\n                            className={(realTime < props.todo.time) ? \"Card--text\" : props.bonusTime > 0 ?\r\n                                \"Card--reverse\" : \"Card--reverse2\"}\r\n                            style={{\r\n                                animationPlayState: props.active ? 'running' : 'paused',\r\n                                animationDuration: reducedTime + 'ms, .5s',\r\n                            }}>\r\n                            <div className='name'\r\n                                 style={{\r\n                                     textDecoration: props.done ? 'line-through' : 'none',\r\n                                     width: 60 + 5 * props.longestName + \"px\", backgroundColor: props.done ? color : '',\r\n                                     background: !props.active && !props.done ? 'rgba(240, 240, 240,1)' : '',\r\n                                 }}>\r\n                                <button className=\"trashWrapper\" disabled={props.active || props.done}\r\n                                        style = {{cursor:!props.active && !props.done?'pointer':'default' }}\r\n                                        onClick={() => props.deleteTodoApp(props.todo._id, props.index)}\r\n                                ><FaRegTrashAlt className=\"trashcan\"/>\r\n                                </button>\r\n                                {props.todo.name}\r\n                            </div>\r\n                            <div className='description' style={{\r\n                                textDecoration: props.done ? 'line-through' : 'none',\r\n                                backgroundColor: props.done ? 'rgba(240, 240, 240, 1)' : '',\r\n                                background: !props.active && !props.done ? 'rgb(230, 230, 230)' : '',\r\n                            }}>{props.todo.description}\r\n                            </div>\r\n                            <div className=\"time\" style={{\r\n                                backgroundColor: props.done && !props.active ? 'rgba(240, 240, 240, 1)' : '',\r\n                                background: !props.active && !props.done ? 'rgb(230, 230, 230)' : '',\r\n                            }}>\r\n                                <div className=\"set-time\">\r\n                                    {Math.ceil(props.todo.time / 1000) < Math.ceil(props.todo.initTime / 1000) ?\r\n                                        <span style={{display: 'inline'}}>\r\n                                        <span className=\"crossedOut\"\r\n                                              style={{\r\n                                                  color: 'grey',\r\n                                                  opacity: '70%',\r\n                                                  display: 'inline',\r\n                                                  marginRight: '4px'\r\n                                              }}>\r\n                                            {Math.ceil(props.todo.initTime / 1000)}</span>\r\n                                            <span> {Math.ceil(props.todo.time / 1000)}</span>\r\n                                        </span> : props.active ? Math.ceil(reducedTime / 1000)\r\n                                            : Math.ceil(props.todo.initTime / 1000)} min\r\n                                </div>\r\n                                <Timer callbackFromParent={timeCallback} startTime={reducedTime}\r\n                                       active={props.active}\r\n                                       done={props.done}/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }}\r\n        </Draggable>\r\n    )\r\n}\r\nexport default Todo\r\n"]},"metadata":{},"sourceType":"module"}